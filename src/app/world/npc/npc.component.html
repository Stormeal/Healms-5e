<div class="main-content">
  <div class="container-fluid">
    <div class="row">

      <mat-tab-group style="width: 100%; height: 100%">
        <mat-tab label="My NPCs">
          <ng-container *ngIf="!npcs">
            <p>No NPCS</p>
          </ng-container>

          <ng-container *ngIf="npcs">
            <br />
            <div class="row">
              <ng-container *ngFor="let npc of npcs">
                <div class="col-sm-3">
                  <div class="card card-profile">
                    <div class="card-avatar">
                      <a>
                        <img class="img" [src]="npc.photoURL" />
                      </a>
                    </div>
                    <div class="card-body">
                      <h6 class="card-category text-gray">
                        {{ npc.npcSize + " " + npc.npcRace + " | " + npc.npcAlignment }}</h6>
                      <h4 class="card-title">{{ npc.npcName }}</h4>
                      <h6 class="card-category text-gray">
                        <i class="fas fa-khanda"> : </i>{{ npc.challengeRating }}
                      </h6>
                      <ng-container *ngIf="npc.npcDescription.length > 255 else fine">
                        <div style="height: 120px;">
                          <small>{{npc.npcDescription | slice: 0:255}} ...</small>
                        </div>
                      </ng-container>

                      <ng-template #fine>
                        <div style="height: 120px;">
                          <small>{{npc.npcDescription}}</small>
                        </div>
                      </ng-template>


                      <a mat-raised-button class="btn btn-success">Add to Encounter</a>
                    </div>
                  </div>
                </div>
              </ng-container>
            </div>
          </ng-container>


        </mat-tab>
        <mat-tab label="Manage NPCs">
          <div class="card">
            <div class="card-profile">
              <div class="card-avatar">
                <div class="picture-container">
                  <div class="picture" matTooltip="Click here to upload a picture"
                    [matTooltipPosition]="'above'">
                    <!-- <img
                          class="picture-src"
                          src="./assets/img/dm-default-avatar.png"
                          [matTooltipPosition]="'above'"
                          matTooltip="Click here to upload a picture"
                          id="creaturePicturePreview"
                          title=""
                        />
                        <input type="file" id="creature-picture" /> -->

                    <span class="btn-file">
                      <img class="picture-src" src="./assets/img/dm-default-avatar.png"
                        id="creaturePicturePreview" title="" />
                      <input style="height: 130px; width: 130px; top: -56px; cursor: pointer"
                        type="file" name="..." (change)="detectFiles($event)" />
                    </span>
                    <br />
                    <a href="#pablo" class="btn btn-danger btn-round fileinput-exists"
                      data-dismiss="fileinput"><i class="fa fa-times"></i> Remove</a>
                  </div>
                </div>
              </div>
            </div>

            <div class="card-body ">
              <form method="get" action="/" class="form-horizontal" [formGroup]="creatureForm">
                <div class="row">
                  <label class="col-sm-4 col-form-label">Creature Name: </label>
                  <div class="col-sm-5">
                    <mat-form-field class="example-full-width">
                      <mat-hint align="start"><strong>Specify Creature Name</strong> </mat-hint>
                      <input matInput type="text" autocomplete="off"
                        formControlName="creatureName" />
                    </mat-form-field>
                  </div>
                </div>
                <!-- SIZE / RACE / ALIGNMENT -->
                <div class="row">
                  <label class="col-sm-2 col-form-label">Select Size</label>
                  <div class="col-lg-2 col-md-2 col-sm-1">
                    <mat-form-field>
                      <mat-select name="creatireSize" [(value)]="creatureSizeSelect"
                        formControlName="creatureSize">
                        <mat-option *ngFor="let size of creatureSizes" [value]="size.value">
                          {{ size.viewValue }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <label class="col-sm-2 col-form-label">Select Race</label>
                  <div class="col-lg-2 col-md-2 col-sm-1">
                    <mat-form-field>
                      <mat-select name="creatureRace" [(value)]="creatureRacesSelect"
                        formControlName="creatureRace">
                        <mat-option *ngFor="let races of creatureRaces" [value]="races.value">
                          {{ races.viewValue }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <label class="col-sm-2 col-form-label">Select Alignment</label>
                  <div class="col-lg-2 col-md-2 col-sm-1">
                    <mat-form-field>
                      <mat-select name="alignments" [(value)]="alignmentsSelect"
                        formControlName="creatureAlignment">
                        <mat-option *ngFor="let alignment of alignments" [value]="alignment.value">
                          {{ alignment.viewValue }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
                <!-- SIZE / RACE / ALIGNMENT END -->
                <div class="row">
                  <label class="col-sm-4 col-form-label">Creature Description: </label>
                  <div class="col-sm-5">
                    <mat-form-field class="example-full-width">
                      <textarea matInput type="text" rows="2"
                        formControlName="creatureDescription"></textarea>
                    </mat-form-field>
                  </div>
                </div>

                <hr />

                <!-- SKILL POINTS -->
                <div class="row">
                  <div class="col-lg-3 col-md-3 col-sm-3 col-form-label"></div>
                  <div class="col-lg-1 col-md-1 col-sm-1 col-form-label" style="text-align: center">
                    <h6>STR</h6>
                    <mat-form-field class="example-full-width">
                      <mat-select name="strength" [(value)]="strSelect" formControlName="str">
                        <mat-option *ngFor="let str of str" [value]="str.value">
                          {{ str.viewValue }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div class="col-lg-1 col-md-1 col-sm-1 col-form-label" style="text-align: center">
                    <h6>DEX</h6>
                    <mat-form-field class="example-full-width">
                      <mat-select name="dexterity" [(value)]="dexSelect" formControlName="dex">
                        <mat-option *ngFor="let dex of dex" [value]="dex.value">
                          {{ dex.viewValue }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div class="col-lg-1 col-md-1 col-sm-1 col-form-label" style="text-align: center">
                    <h6>CON</h6>
                    <mat-form-field class="example-full-width">
                      <mat-select name="constitution" [(value)]="conSelect" formControlName="con">
                        <mat-option *ngFor="let con of con" [value]="con.value">
                          {{ con.viewValue }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div class="col-lg-1 col-md-1 col-sm-1 col-form-label" style="text-align: center">
                    <h6>INT</h6>
                    <mat-form-field class="example-full-width">
                      <mat-select name="intelligence" [(value)]="intSelect" formControlName="int">
                        <mat-option *ngFor="let int of int" [value]="int.value">
                          {{ int.viewValue }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div class="col-lg-1 col-md-1 col-sm-1 col-form-label" style="text-align: center">
                    <h6>WIS</h6>
                    <mat-form-field class="example-full-width">
                      <mat-select name="wisdom" [(value)]="wisSelect" formControlName="wis">
                        <mat-option *ngFor="let wis of wis" [value]="wis.value">
                          {{ wis.viewValue }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div class="col-lg-1 col-md-1 col-sm-1 col-form-label" style="text-align: center">
                    <h6>CHA</h6>
                    <mat-form-field class="example-full-width">
                      <mat-select name="charisma" [(value)]="chaSelect" formControlName="cha">
                        <mat-option *ngFor="let cha of cha" [value]="cha.value">
                          {{ cha.viewValue }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div class="col-lg-3 col-md-3 col-sm-3 col-form-label"></div>
                </div>
                <!-- SKILL POINTS END -->

                <hr />

                <!-- AC / HP / SPEED -->
                <div class="row">
                  <label class="col-sm-2 col-form-label">Armor Class: </label>
                  <div class="col-sm-2">
                    <mat-form-field class="example-full-width">
                      <mat-hint align="start"><strong>16 (natural armor)</strong> </mat-hint><input
                        matInput type="text" autocomplete="off" formControlName="armorClass" />
                    </mat-form-field>
                  </div>
                  <label class="col-sm-1 col-form-label">Hit Points: </label>
                  <div class="col-sm-1">
                    <mat-form-field class="example-full-width">
                      <mat-hint align="start"><strong>HP Value</strong> </mat-hint><input matInput
                        type="text" autocomplete="off" matTooltip="Insert number of dice"
                        [matTooltipPosition]="'above'" formControlName="hitPoints" />
                    </mat-form-field>
                  </div>
                  <div class="col-sm-1">
                    <mat-form-field class="example-full-width">
                      <mat-hint align="start"><strong>Dice Select</strong> </mat-hint>
                      <mat-select name="dices" [(value)]="dicesSelect" formControlName="hitDie">
                        <mat-option *ngFor="let dice of dices" [value]="dice.value">
                          {{ dice.viewValue }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-1">
                    <mat-form-field class="example-full-width">
                      <mat-hint align="start"><strong>HP Modifier</strong> </mat-hint>
                      <span matPrefix>+ &nbsp;</span>
                      <input matInput type="text" autocomplete="off"
                        formControlName="hitModifier" />
                    </mat-form-field>
                  </div>
                  <label class="col-sm-1 col-form-label">Speed: </label>
                  <div class="col-sm-1">
                    <mat-form-field class="example-full-width">
                      <span matSuffix>ft &nbsp;</span>
                      <mat-hint align="start"><strong>30 ft</strong> </mat-hint>
                      <input matInput type="text" autocomplete="off" formControlName="speed" />
                    </mat-form-field>
                  </div>
                </div>
                <!-- AC / HP / SPEED END -->

                <hr />

                <!-- Skills -->
                <div class="row">
                  <label class="col-sm-2 col-form-label">Saving Throws: </label>
                  <div class="col-sm-4">
                    <mat-form-field class="example-full-width">
                      <mat-hint align="start"><strong>Str +7, Con +4</strong> </mat-hint><input
                        matInput type="text" autocomplete="off" formControlName="savingThrows" />
                    </mat-form-field>
                  </div>
                  <label class="col-sm-2 col-form-label">Skills: </label>
                  <div class="col-sm-4">
                    <mat-form-field class="example-full-width">
                      <mat-hint align="start"><strong>Perception +4, Insight +3</strong> </mat-hint>
                      <input matInput type="text" autocomplete="off" formControlName="skills" />
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <label class="col-sm-2 col-form-label">Damage Resistances: </label>
                  <div class="col-sm-4">
                    <mat-form-field class="example-full-width">
                      <mat-hint align="start"><strong>Bludgeoning, Piercing & Slashing </strong>
                      </mat-hint><input matInput type="text" autocomplete="off"
                        formControlName="dmgRes" />
                    </mat-form-field>
                  </div>
                  <label class="col-sm-2 col-form-label">Damage Immunities: </label>
                  <div class="col-sm-4">
                    <mat-form-field class="example-full-width">
                      <mat-hint align="start"><strong>Bludgeoning, Piercing & Slashing from
                          non-magical weapons
                        </strong> </mat-hint><input matInput type="text" autocomplete="off"
                        formControlName="dmgImmunities" />
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <label class="col-sm-2 col-form-label">Languages: </label>
                  <div class="col-sm-4">
                    <mat-form-field class="example-full-width">
                      <mat-hint align="start"><strong>any one language (usually Common) </strong>
                      </mat-hint><input matInput type="text" autocomplete="off"
                        formControlName="languages" />
                    </mat-form-field>
                  </div>
                  <label class="col-sm-2 col-form-label">Senses: </label>
                  <div class="col-sm-4">
                    <mat-form-field class="example-full-width">
                      <mat-hint align="start"><strong>
                          Dark Vision 60ft, passive Perception 14
                        </strong> </mat-hint><input matInput type="text" autocomplete="off"
                        formControlName="senses" />
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <label class="col-sm-2 col-form-label">Challenge Rating: </label>
                  <div class="col-sm-2">
                    <mat-form-field class="example-full-width">
                      <mat-select name="challengeRating" [(value)]="challengeRatingSelect"
                        formControlName="challengeRating">
                        <mat-option *ngFor="let cr of challengeRatings" [value]="cr.viewValue">
                          {{ cr.viewValue }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
                <!-- Skills END -->

                <hr />

                <!-- TRAITS -->
                <div class="row">
                  <div class="col-sm-2">
                    <button mat-raised-button class="btn btn-success btn-sm" (click)="addTrait()">
                      <i class="material-icons">add</i> New Trait
                    </button>
                  </div>
                  <div class="col-sm-2">
                    <div class="form-check">
                      <label class="form-check-label">
                        <input class="form-check-input" type="checkbox" value=""
                          (change)="test($event)" />
                        Spell Caster?
                        <span class="form-check-sign">
                          <span class="check"></span>
                        </span>
                      </label>
                    </div>
                  </div>
                  <div class="col-sm-2">
                    <div class="form-check">
                      <label class="form-check-label">
                        <input class="form-check-input" type="checkbox" value=""
                          (change)="legendary($event)" />
                        Legendary Creature?
                        <span class="form-check-sign">
                          <span class="check"></span>
                        </span>
                      </label>
                    </div>
                  </div>
                  <div class="col-sm-2"></div>
                  <div class="col-sm-2"></div>
                  <div class="col-sm-2"></div>
                  <div class="col-sm-1"></div>
                </div>

                <div formArrayName="traits">
                  <div *ngFor="let trait of traitFormGroup.controls; let i = index">
                    <div class="row" [formGroupName]="i">
                      <label class="col-sm-1 col-form-label">Trait: </label>
                      <div class="col-sm-2">
                        <mat-form-field class="example-full-width">
                          <mat-hint align="start"><strong>Trait Name</strong> </mat-hint>
                          <input matInput type="text" autocomplete="off"
                            formControlName="traitName" />
                        </mat-form-field>
                      </div>
                      <div class="col-sm-7">
                        <mat-form-field class="example-full-width">
                          <mat-hint align="start"><strong>Trait Description</strong> </mat-hint>
                          <input matInput type="text" autocomplete="off"
                            formControlName="traitDescription" />
                        </mat-form-field>
                      </div>
                      <div class="col-sm-1"></div>
                      <div class="col-sm-1" style="padding: 2px">
                        <button mat-raised-button class="btn btn-danger btn-sm"
                          (click)="removeTrait(i)">
                          <i class="material-icons">clear</i> Clear
                        </button>
                      </div>
                    </div>
                  </div>
                </div>

                <!--MAGIC TRAITS-->

                <ng-container *ngIf="isTrue">
                  <div class="row">
                    <label class="col-sm-2 col-form-label">Spellcasting: </label>
                    <div class="col-sm-1">
                      <mat-form-field class="example-full-width">
                        <span matPrefix>DC &nbsp;</span>
                        <input matInput type="number" autocomplete="off" />
                        <mat-hint align="start"><strong>Spell Save</strong> </mat-hint>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-1">
                      <mat-form-field class="example-full-width">
                        <span matPrefix>+ &nbsp;</span>
                        <input matInput type="number" autocomplete="off" />
                        <mat-hint align="start"><strong>Spell Att. Mod</strong> </mat-hint>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-2">
                      <mat-form-field class="example-full-width">
                        <mat-select name="spellcastingAbility" [(value)]="spellcastingAbilitySelect"
                          formControlName="spellcastingAbility">
                          <mat-option *ngFor="let sa of spellCastingAbility" [value]="sa.value">
                            {{ sa.viewValue }}
                          </mat-option>
                        </mat-select>
                        <mat-hint align="start"><strong>Spellcasting Ability</strong> </mat-hint>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-1">
                      <mat-form-field class="example-full-width">
                        <mat-select name="spellClass" [(value)]="spellClassSelect"
                          formControlName="spellClass">
                          <mat-option *ngFor="let class of spellClass" [value]="class.value">
                            {{ class.viewValue }}
                          </mat-option>
                        </mat-select>
                        <mat-hint align="start"><strong>Spell Class</strong> </mat-hint>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-1">
                      <mat-form-field class="example-full-width">
                        <mat-select name="spellLevel" [(value)]="wizardLevelSelect"
                          formControlName="spellLevel">
                          <mat-option *ngFor="let lvl of spellLevels" [value]="lvl.value">
                            {{ lvl.viewValue }}
                          </mat-option>
                        </mat-select>
                        <mat-hint align="start"><strong>Class Level</strong> </mat-hint>
                      </mat-form-field>
                    </div>
                  </div>

                  <div class="row">
                    <label class="col-sm-2 col-form-label">Cantrips: </label>
                    <div class="col-sm-4">
                      <mat-form-field>
                        <mat-select multiple formControlName="cantrip" [(ngModel)]="currentCantrip"
                          name="Dancing Lights" ariaLabel="cantrips[3]">
                          <mat-option *ngFor="let cantrip of allCantrips" [value]="cantrip">
                            {{ cantrip }}
                          </mat-option>
                        </mat-select>
                        <mat-hint align="start"><strong>Cantrips </strong> </mat-hint>
                        <mat-hint align="end"><strong>*Leave blank if not applicable</strong>
                        </mat-hint>
                        <!-- <mat-chip-list #chipListCantrip aria-label="Cantrip selection" formControlName="cantrip">
                              <mat-chip *ngFor="let cantrip of cantrips" [selectable]="selectable" [removable]="removable"
                                (removed)="removeCantrip(cantrip)" style="background-color: #5cb85c; color: white;">
                                {{ cantrip }}
                                <mat-icon matChipRemove *ngIf="removable" style="color: black;">cancel</mat-icon>
                              </mat-chip>
                              <input #spellInput [formControl]="cantripCtrl" [matAutocomplete]="autoCantrip"
                                [matChipInputFor]="chipListCantrip" [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                [matChipInputAddOnBlur]="addOnBlur" (matChipInputTokenEnd)="addCantrip($event)" />
                            </mat-chip-list>
                            <mat-autocomplete #autoCantrip="matAutocomplete" (optionSelected)="selectedCantrip($event)">
                              <mat-option *ngFor="let cantrip of filteredCantrips | async" [value]="cantrip">
                                {{ cantrip }}
                              </mat-option>
                            </mat-autocomplete>
                            <mat-hint align="start"><strong>Cantrips </strong>
                            </mat-hint>
                            <mat-hint align="end"><strong>*Leave blank if not applicable</strong>
                            </mat-hint> -->
                      </mat-form-field>
                    </div>

                    <label class="col-sm-1 col-form-label">1st Level: </label>
                    <div class="col-sm-4">
                      <mat-form-field>
                        <mat-select multiple formControlName="first" [(ngModel)]="currentFirst"
                          name="first" ariaLabel="first[3]">
                          <mat-option *ngFor="let first of allFirst" [value]="first">
                            {{ first }}
                          </mat-option>
                        </mat-select>
                        <mat-hint align="start"><strong>1st Level Spells</strong> </mat-hint>
                        <mat-hint align="end"><strong>*Leave blank if not applicable</strong>
                        </mat-hint>
                      </mat-form-field>
                    </div>
                  </div>

                  <div class="row">
                    <label class="col-sm-2 col-form-label">2nd Level: </label>
                    <div class="col-sm-4">
                      <mat-form-field>
                        <mat-select multiple formControlName="second" [(ngModel)]="currentSecond"
                          name="second" ariaLabel="second[3]">
                          <mat-option *ngFor="let second of allSecond" [value]="second">
                            {{ second }}
                          </mat-option>
                        </mat-select>
                        <mat-hint align="start"><strong>2nd Level Spells</strong> </mat-hint>
                        <mat-hint align="end"><strong>*Leave blank if not applicable</strong>
                        </mat-hint>
                      </mat-form-field>
                    </div>

                    <label class="col-sm-1 col-form-label">3rd Level: </label>
                    <div class="col-sm-4">
                      <mat-form-field>
                        <mat-select multiple formControlName="third" [(ngModel)]="currentThird"
                          name="third" ariaLabel="third[3]">
                          <mat-option *ngFor="let third of allThird" [value]="third">
                            {{ third }}
                          </mat-option>
                        </mat-select>
                        <mat-hint align="start"><strong>3rd Level Spells</strong> </mat-hint>
                        <mat-hint align="end"><strong>*Leave blank if not applicable</strong>
                        </mat-hint>
                      </mat-form-field>
                    </div>
                  </div>

                  <div class="row">
                    <label class="col-sm-2 col-form-label">4th Level: </label>
                    <div class="col-sm-4">
                      <mat-form-field>
                        <mat-select multiple formControlName="fourth" [(ngModel)]="currentFourth"
                          name="fourth" ariaLabel="fourth[3]">
                          <mat-option *ngFor="let fourth of allFourth" [value]="fourth">
                            {{ fourth }}
                          </mat-option>
                        </mat-select>
                        <mat-hint align="start"><strong>4th Level Spells</strong> </mat-hint>
                        <mat-hint align="end"><strong>*Leave blank if not applicable</strong>
                        </mat-hint>
                      </mat-form-field>
                    </div>

                    <label class="col-sm-1 col-form-label">5th Level: </label>
                    <div class="col-sm-4">
                      <mat-form-field>
                        <mat-select multiple formControlName="fifth" [(ngModel)]="currentFifth"
                          name="fifth" ariaLabel="fifth[3]">
                          <mat-option *ngFor="let fifth of allFifth" [value]="fifth">
                            {{ fifth }}
                          </mat-option>
                        </mat-select>
                        <mat-hint align="start"><strong>5th Level Spells</strong> </mat-hint>
                        <mat-hint align="end"><strong>*Leave blank if not applicable</strong>
                        </mat-hint>
                      </mat-form-field>
                    </div>
                  </div>

                  <div class="row">
                    <label class="col-sm-2 col-form-label">6th Level: </label>
                    <div class="col-sm-4">
                      <mat-form-field>
                        <mat-select multiple formControlName="sixth" [(ngModel)]="currentSixth"
                          name="sixth" ariaLabel="sixth[3]">
                          <mat-option *ngFor="let sixth of allSixth" [value]="sixth">
                            {{ sixth }}
                          </mat-option>
                        </mat-select>
                        <mat-hint align="start"><strong>6th Level Spells </strong> </mat-hint>
                        <mat-hint align="end"><strong>*Leave blank if not applicable</strong>
                        </mat-hint>
                      </mat-form-field>
                    </div>

                    <!-- 7th -->
                    <label class="col-sm-1 col-form-label">7th Level: </label>
                    <div class="col-sm-4">
                      <mat-form-field>
                        <mat-select multiple formControlName="seventh" [(ngModel)]="currentSeventh"
                          name="seventh" ariaLabel="seventh[3]">
                          <mat-option *ngFor="let seventh of allSeventh" [value]="seventh">
                            {{ seventh }}
                          </mat-option>
                        </mat-select>
                        <mat-hint align="start"><strong>7th Level Spells</strong> </mat-hint>
                        <mat-hint align="end"><strong>*Leave blank if not applicable</strong>
                        </mat-hint>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- 7th END -->

                  <div class="row">
                    <label class="col-sm-2 col-form-label">8th Level: </label>
                    <div class="col-sm-4">
                      <mat-form-field>
                        <mat-select multiple formControlName="eight" [(ngModel)]="currentEight"
                          name="eight" ariaLabel="eight[3]">
                          <mat-option *ngFor="let eight of allEight" [value]="eight">
                            {{ eight }}
                          </mat-option>
                        </mat-select>
                        <mat-hint align="start"><strong>8th Level Spells </strong> </mat-hint>
                        <mat-hint align="end"><strong>*Leave blank if not applicable</strong>
                        </mat-hint>
                      </mat-form-field>
                    </div>

                    <label class="col-sm-1 col-form-label">9th Level: </label>
                    <div class="col-sm-4">
                      <mat-form-field>
                        <mat-select multiple formControlName="nineth" [(ngModel)]="currentNineth"
                          name="nineth" ariaLabel="nineth[3]">
                          <mat-option *ngFor="let nineth of allNineth" [value]="nineth">
                            {{ nineth }}
                          </mat-option>
                        </mat-select>
                        <mat-hint align="start"><strong>9th Level Spells</strong> </mat-hint>
                        <mat-hint align="end"><strong>*Leave blank if not applicable</strong>
                        </mat-hint>
                      </mat-form-field>
                    </div>
                  </div>
                </ng-container>

                <!--MAGIC TRAITS END-->

                <!-- TRAITS END -->

                <hr />
                <h4 style="text-align: center"><b>ACTIONS</b></h4>
                <hr />
                <!-- ACTIONS -->
                <div class="row">
                  <div class="col-sm-1">
                    <button mat-raised-button class="btn btn-success btn-sm" (click)="addAction()">
                      <i class="material-icons">add</i> New Action
                    </button>
                  </div>
                  <div class="col-sm-1">
                    <button mat-raised-button class="btn btn-success btn-sm"
                      (click)="addReaction()">
                      <i class="material-icons">add</i> Add Reaction
                    </button>
                  </div>
                </div>

                <div formArrayName="actions">
                  <div *ngFor="let action of actionFormGroup.controls; let i = index">
                    <div class="row" [formGroupName]="i">
                      <label class="col-sm-1 col-form-label">Action: </label>
                      <div class="col-sm-1">
                        <mat-form-field class="example-full-width">
                          <mat-hint align="start"><strong>Action Name</strong> </mat-hint>
                          <input matInput type="text" autocomplete="off"
                            formControlName="actionName" />
                        </mat-form-field>
                      </div>
                      <div class="col-sm-4">
                        <mat-form-field class="example-full-width">
                          <mat-hint align="start"><strong>Action Description</strong> </mat-hint>
                          <input matInput type="text" autocomplete="off"
                            formControlName="actionDescription" />
                        </mat-form-field>
                      </div>
                      <div class="col-sm-1">
                        <mat-form-field class="example-full-width">
                          <mat-hint align="start"><strong>Hit Modifier</strong> </mat-hint>
                          <input matInput type="text" autocomplete="off"
                            formControlName="actionHitMod" />
                        </mat-form-field>
                      </div>
                      <div class="col-sm-1">
                        <mat-form-field class="example-full-width">
                          <mat-hint align="start"><strong>Reach</strong> </mat-hint>
                          <span matSuffix>ft &nbsp;</span>
                          <input matInput type="text" autocomplete="off"
                            formControlName="actionReach" />
                        </mat-form-field>
                      </div>
                      <div class="col-sm-1">
                        <mat-form-field class="example-full-width">
                          <mat-hint align="start"><strong>Action Damage</strong> </mat-hint>
                          <input matInput type="text" autocomplete="off"
                            formControlName="actionDmg" />
                        </mat-form-field>
                      </div>
                      <div class="col-sm-1">
                        <mat-form-field class="example-full-width">
                          <mat-hint align="start"><strong>Dice Select</strong> </mat-hint>
                          <mat-select name="dmgDice" [(value)]="dmgDicesSelect"
                            formControlName="actionDice">
                            <mat-option *ngFor="let dmg of dmgDices" [value]="dmg.value">
                              {{ dmg.viewValue }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div class="col-sm-1">
                        <mat-form-field class="example-full-width">
                          <mat-hint align="start"><strong>Damage Modifier</strong> </mat-hint>
                          <input matInput type="number" autocomplete="off"
                            formControlName="actionDmgMod" />
                        </mat-form-field>
                      </div>
                      <div class="col-sm-1" style="padding: 2px">
                        <button mat-raised-button class="btn btn-danger btn-sm"
                          (click)="removeAction(i)">
                          <i class="material-icons">clear</i> Clear
                        </button>
                      </div>
                    </div>
                  </div>
                </div>

                <ng-container *ngIf="legendaryTrue">
                  <hr />
                  <h4 style="text-align: center"><b>LEGENDARY ACTIONS</b></h4>
                  <hr />
                  <!-- ACTIONS -->
                  <div class="row">
                    <div class="col-sm-1">
                      <button mat-raised-button class="btn btn-success btn-sm"
                        (click)="addLegendary()">
                        <i class="material-icons">add</i> New Action
                      </button>
                    </div>
                  </div>

                  <div formArrayName="legendary">
                    <div *ngFor="let leg of legendaryFormGroup.controls; let i = index">
                      <div class="row" [formGroupName]="i">
                        <label class="col-sm-1 col-form-label">Action: </label>
                        <div class="col-sm-1">
                          <mat-form-field class="example-full-width">
                            <mat-hint align="start"><strong>Legendary Name</strong> </mat-hint>
                            <input matInput type="text" autocomplete="off"
                              formControlName="legendaryName" />
                          </mat-form-field>
                        </div>
                        <div class="col-sm-4">
                          <mat-form-field class="example-full-width">
                            <mat-hint align="start"><strong>Legendary Description</strong>
                            </mat-hint>
                            <input matInput type="text" autocomplete="off"
                              formControlName="legendaryDescription" />
                          </mat-form-field>
                        </div>
                        <div class="col-sm-1">
                          <mat-form-field class="example-full-width">
                            <mat-hint align="start"><strong>Hit Modifier</strong> </mat-hint>
                            <input matInput type="text" autocomplete="off"
                              formControlName="legendaryHitMod" />
                          </mat-form-field>
                        </div>
                        <div class="col-sm-1">
                          <mat-form-field class="example-full-width">
                            <mat-hint align="start"><strong>Reach</strong> </mat-hint>
                            <span matSuffix>ft &nbsp;</span>
                            <input matInput type="text" autocomplete="off"
                              formControlName="legendaryReach" />
                          </mat-form-field>
                        </div>
                        <div class="col-sm-1">
                          <mat-form-field class="example-full-width">
                            <mat-hint align="start"><strong>Action Damage</strong> </mat-hint>
                            <input matInput type="text" autocomplete="off"
                              formControlName="legendaryDmg" />
                          </mat-form-field>
                        </div>
                        <div class="col-sm-1">
                          <mat-form-field class="example-full-width">
                            <mat-hint align="start"><strong>Dice Select</strong> </mat-hint>
                            <mat-select name="dmgDice" [(value)]="dmgDicesSelect"
                              formControlName="legendaryDice">
                              <mat-option *ngFor="let dmg of dmgDices" [value]="dmg.value">
                                {{ dmg.viewValue }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-1">
                          <mat-form-field class="example-full-width">
                            <mat-hint align="start"><strong>Damage Modifier</strong> </mat-hint>
                            <input matInput type="number" autocomplete="off"
                              formControlName="legendaryDmgMod" />
                          </mat-form-field>
                        </div>
                        <div class="col-sm-1" style="padding: 2px">
                          <button mat-raised-button class="btn btn-danger btn-sm"
                            (click)="removeLegendary(i)">
                            <i class="material-icons">clear</i> Clear
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </ng-container>

                <!-- ACTIONS END -->

                <!-- REACTIONS START-->

                <ng-container *ngIf="reactionTrue">
                  <hr />
                  <h4 style="text-align: center"><b>REACTIONS</b></h4>
                  <hr />
                  <div formArrayName="reactions">
                    <div *ngFor="let reaction of reactionFormGroup.controls; let i = index">
                      <div class="row" [formGroupName]="i">

                        <label class="col-sm-1 col-form-label">Reaction: </label>
                        <div class="col-sm-1">
                          <mat-form-field class="example-full-width">
                            <mat-hint align="start"><strong>Reaction Name</strong> </mat-hint>
                            <input matInput type="text" autocomplete="off"
                              formControlName="reactionName" />
                          </mat-form-field>
                        </div>

                        <div class="col-sm-4">
                          <mat-form-field class="example-full-width">
                            <mat-hint align="start"><strong>Reaction Description</strong>
                            </mat-hint>
                            <input matInput type="text" autocomplete="off"
                              formControlName="reactionDescription" />
                          </mat-form-field>
                        </div>

                        <div class="col-sm-5">
                        </div>

                        <div class="col-sm-1" style="padding: 2px">
                          <button mat-raised-button class="btn btn-danger btn-sm"
                            (click)="removeReaction(i)">
                            <i class="material-icons">clear</i> Clear
                          </button>
                        </div>

                      </div>
                    </div>

                  </div>


                </ng-container>


                <!-- REACTIONS END-->

                <hr />
                <button mat-raised-button class="btn btn-success btn-sm" (click)="newMonster()">
                  Save
                </button>
              </form>
            </div>
          </div>

        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>
